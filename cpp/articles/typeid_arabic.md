<!--
Meta Description: # استخدام "typeid" في C++ ## ملخص تُستخدم خاصية `typeid` في C++ لتحديد نوع الكائن في وقت التشغيل. توفر هذه الميزة وسيلة فعالة للتأكد من نوع البيانات، ...
Meta Keywords: typeid, نوع, استخدام, على, الكائن
-->

# استخدام "typeid" في C++

## ملخص
تُستخدم خاصية `typeid` في C++ لتحديد نوع الكائن في وقت التشغيل. توفر هذه الميزة وسيلة فعالة للتأكد من نوع البيانات، خاصة في سياقات الوراثة والتعددية الشكل.

## الوثائق
### الغرض
تساهم `typeid` في الحصول على نوع الكائن بشكل ديناميكي أثناء تنفيذ البرنامج. تُعتبر هذه الخاصية جزءًا من نظام RTTI (Runtime Type Information) في C++.

### الاستخدام
يتم استخدام `typeid` مع الكائنات أو المؤشرات للحصول على نوع البيانات. يمكن استخدامها مع الأنواع البدائية، والفئات، والفئات المشتقة.

### التفاصيل
عند استخدام `typeid`، يتم إرجاع كائن من نوع `std::type_info`. يمكن استخدام الدالة `name()` الخاصة بكائن `type_info` للحصول على اسم النوع كـ `const char*`. 

#### الصيغة
```cpp
#include <typeinfo>

typeid(expression)
```

### ملاحظات هامة
- يجب أن تكون التعبيرات المستخدمة مع `typeid` قابلة للتعريف في وقت التشغيل.
- إذا تم استخدام `typeid` مع نوع غير معروف، ستحصل على خطأ في وقت الترجمة.
- يُفضل استخدام `typeid` مع المؤشرات إلى الأنواع القابلة للتوريث لضمان الحصول على النوع الفعلي للكائن.

## الأمثلة
### مثال 1: استخدام `typeid` مع الأنواع البدائية
```cpp
#include <iostream>
#include <typeinfo>

int main() {
    int x = 10;
    std::cout << "نوع x هو: " << typeid(x).name() << std::endl;
    return 0;
}
```

### مثال 2: استخدام `typeid` مع الفئات
```cpp
#include <iostream>
#include <typeinfo>

class Base {};
class Derived : public Base {};

int main() {
    Base* b = new Derived();
    std::cout << "نوع الكائن هو: " << typeid(*b).name() << std::endl;
    delete b;
    return 0;
}
```

## الشرح
### الأخطاء الشائعة
1. **استخدام `typeid` مع الأنواع غير القابلة للتوريث:** عند استخدام `typeid` مع مؤشرات غير قابلة للتوريث، سيتم إرجاع نوع المؤشر بدلاً من نوع الكائن الفعلي.
2. **عدم تضمين `<typeinfo>`:** يجب تضمين المكتبة `<typeinfo>` لاستخدام `typeid`.

### ملاحظات إضافية
- يمكن استخدام `typeid` مع المؤشرات الذكية، لكن قد يتطلب ذلك الانتباه إلى نوع المؤشر.
- قد تختلف نتائج `name()` حسب المترجم المستخدم، لذا من الأفضل الاعتماد على `typeid` للأغراض البرمجية وليس للاختبارات.

## ملخص جملة واحدة
تُستخدم `typeid` في C++ لتحديد نوع الكائن في وقت التشغيل، مما يسهل التعامل مع التعددية الشكل والوراثة.