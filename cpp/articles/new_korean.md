<!--
Meta Description: # C++에서의 new 연산자: 메모리 할당의 기본 ## 개요 C++에서 `new` 연산자는 동적 메모리 할당을 위한 핵심적인 도구로, 프로그램 실행 중에 필요한 메모리를 할당할 수 있도록 해줍니다. 이 연산자는 객체를 생성하고 해당 객체에 대한 포인터를 반환하여 유연...
Meta Keywords: new, 메모리, myclass, int, 있습니다
-->

# C++에서의 new 연산자: 메모리 할당의 기본

## 개요
C++에서 `new` 연산자는 동적 메모리 할당을 위한 핵심적인 도구로, 프로그램 실행 중에 필요한 메모리를 할당할 수 있도록 해줍니다. 이 연산자는 객체를 생성하고 해당 객체에 대한 포인터를 반환하여 유연한 메모리 관리를 가능하게 합니다.

## 문서화

### 목적
`new` 연산자는 동적 메모리 할당을 통해 프로그램 실행 중에 객체를 생성하는 데 사용됩니다. 이를 통해 배열, 클래스 인스턴스 등 다양한 데이터를 동적으로 관리할 수 있습니다.

### 사용법
`new` 연산자의 기본 사용법은 다음과 같습니다:

```cpp
Type* pointer = new Type;
```

여기서 `Type`은 할당할 데이터 유형이며, `pointer`는 새로 할당된 메모리의 주소를 가리킵니다.

또한, 배열 형태로 메모리를 할당할 수도 있습니다:

```cpp
Type* arrayPointer = new Type[size];
```

여기서 `size`는 할당할 배열의 크기입니다.

### 세부사항
- `new` 연산자는 메모리 할당에 실패할 경우 `std::bad_alloc` 예외를 던집니다. 이는 예외 처리를 통해 메모리 부족 상황을 관리할 수 있도록 합니다.
- 할당된 메모리는 반드시 `delete` 연산자를 사용하여 해제해야 하며, 이를 통해 메모리 누수를 방지할 수 있습니다.
- 기본적으로 `new`는 기본 생성자를 호출하여 객체를 초기화합니다. 만약 생성자를 사용하지 않으려면 `new(Type)`의 형태로 사용할 수 있습니다.

## 예제

### 기본 객체 생성
```cpp
#include <iostream>

class MyClass {
public:
    MyClass() {
        std::cout << "MyClass 생성됨!" << std::endl;
    }
    ~MyClass() {
        std::cout << "MyClass 소멸됨!" << std::endl;
    }
};

int main() {
    MyClass* obj = new MyClass(); // 동적 할당
    delete obj; // 메모리 해제
    return 0;
}
```

### 배열 생성
```cpp
#include <iostream>

int main() {
    int size = 5;
    int* array = new int[size]; // 동적 배열 할당
    for (int i = 0; i < size; ++i) {
        array[i] = i * 10; // 배열 초기화
    }
    
    for (int i = 0; i < size; ++i) {
        std::cout << array[i] << " "; // 배열 출력
    }
    
    delete[] array; // 동적 배열 해제
    return 0;
}
```

## 설명
- **메모리 누수**: `new`로 할당한 메모리를 `delete`를 통해 해제하지 않으면 메모리 누수가 발생할 수 있습니다. 항상 할당한 메모리를 해제하는 습관을 가지는 것이 좋습니다.
- **예외 처리**: 메모리 할당 실패 시 예외가 발생할 수 있으므로, `try-catch` 블록을 사용하여 이를 처리하는 것이 바람직합니다.
- **배열 해제**: 배열을 동적으로 할당한 경우 `delete` 대신 `delete[]`를 사용해야 합니다. 그렇지 않으면 정의되지 않은 동작이 발생할 수 있습니다.

## 한 줄 요약
C++의 `new` 연산자는 동적 메모리 할당을 통해 객체 및 배열을 생성하며, 메모리 관리에 필수적인 도구입니다.