<!--
Meta Description: # كلمة "virtual" في C++ ## ملخص تستخدم الكلمة المفتاحية "virtual" في C++ لتعريف الدوال الافتراضية، مما يسمح بتطبيق مفهوم الوراثة الديناميكية. هذا يمكن...
Meta Keywords: virtual, std, دالة, shape, الفئة
-->

# كلمة "virtual" في C++

## ملخص
تستخدم الكلمة المفتاحية "virtual" في C++ لتعريف الدوال الافتراضية، مما يسمح بتطبيق مفهوم الوراثة الديناميكية. هذا يمكن من استدعاء الدوال من الفئات المشتقة بدلاً من الفئة الأساسية، مما يعزز مرونة الكود وقابلية الصيانة.

## الوثائق
### الغرض
تسمح الكلمة "virtual" بإنشاء دوال يمكن إعادة تعريفها في الفئات المشتقة. يتم استخدام هذه الدوال في النماذج التي تعتمد على الوراثة، حيث نريد أن نستدعي دالة معينة بناءً على نوع الكائن.

### الاستخدام
لإعلان دالة كافتراضية، يتم استخدام الكلمة المفتاحية "virtual" قبل تعريف الدالة في الفئة الأساسية. في الفئة المشتقة، يمكن إعادة تعريف هذه الدالة دون الحاجة إلى استخدام الكلمة "virtual" مرة أخرى.

### التفاصيل
- يجب أن تكون الدوال الافتراضية معرفة في الفئة الأساسية.
- يمكن أن تحتوي الفئات على دوال افتراضية متعددة.
- تستخدم الكلمة "override" في الفئة المشتقة لتوضيح نية إعادة تعريف الدالة.

## أمثلة
### مثال 1: دالة افتراضية بسيطة
```cpp
#include <iostream>

class Animal {
public:
    virtual void sound() {
        std::cout << "Some generic animal sound" << std::endl;
    }
};

class Dog : public Animal {
public:
    void sound() override {
        std::cout << "Bark" << std::endl;
    }
};

int main() {
    Animal* animal = new Dog();
    animal->sound();  // سيتم استدعاء دالة Dog::sound
    delete animal;
    return 0;
}
```

### مثال 2: دالة افتراضية مع دالة غير افتراضية
```cpp
#include <iostream>

class Shape {
public:
    virtual void draw() {
        std::cout << "Drawing a shape" << std::endl;
    }
    void area() {
        std::cout << "Calculating area" << std::endl;
    }
};

class Circle : public Shape {
public:
    void draw() override {
        std::cout << "Drawing a circle" << std::endl;
    }
};

int main() {
    Shape* shape = new Circle();
    shape->draw();  // سيتم استدعاء دالة Circle::draw
    shape->area();  // سيتم استدعاء دالة Shape::area
    delete shape;
    return 0;
}
```

## الشرح
### النقاط الشائعة
- **عدم استخدام "virtual" في الفئة المشتقة**: عندما تعيد تعريف دالة افتراضية في الفئة المشتقة، لا تحتاج إلى استخدام الكلمة "virtual" مرة أخرى، ولكن استخدام "override" يوضح نيتك.
- **التحذير من استخدام المؤشرات**: إذا استخدمت مؤشرات من الفئة الأساسية، تأكد من أن الكائنات المشتقة يتم تدميرها بشكل صحيح لتجنب تسرب الذاكرة.
- **التحذير من الدوال الافتراضية في الباني**: لا ينبغي أن تكون الدوال الافتراضية في المنشئ (constructor) أو المدمّر (destructor) لفئة أساسية، لأن هذا يمكن أن يؤدي إلى سلوك غير متوقع.

## ملخص جملة واحدة
تتيح "virtual" في C++ تعريف دوال افتراضية تدعم الوراثة الديناميكية، مما يعزز مرونة الكود ويسهل صيانته.