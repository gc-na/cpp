<!--
Meta Description: # استخدام جملة try في C++: كيفية التعامل مع الاستثناءات ## ملخص جملة `try` في C++ تُستخدم لاحتواء الكود الذي قد يؤدي إلى استثناء، مما يسمح بإدارة الأخ...
Meta Keywords: std, try, استثناء, catch, كتلة
-->

# استخدام جملة try في C++: كيفية التعامل مع الاستثناءات

## ملخص
جملة `try` في C++ تُستخدم لاحتواء الكود الذي قد يؤدي إلى استثناء، مما يسمح بإدارة الأخطاء بشكل فعال دون توقف تنفيذ البرنامج.

## الوثائق
### الغرض
تُستخدم جملة `try` لبدء كتلة من التعليمات البرمجية التي قد تُسبب استثناءً. عند وقوع استثناء، يُمكن استخدام كتلة `catch` المرتبطة للتعامل مع الخطأ بدلاً من إنهاء البرنامج.

### الاستخدام
تتكون جملة `try` من ثلاث مكونات رئيسية:
1. كتلة `try` التي تحتوي على التعليمات البرمجية التي قد تُسبب استثناء.
2. كتلة `catch` التي تُحدد كيفية التعامل مع الاستثناء.
3. (اختياري) كتلة `finally` (غير موجودة في C++)، ولكن يمكن استخدام دالة `defer` في سياقات معينة.

**صيغة الاستخدام:**
```cpp
try {
    // تعليمات برمجية قد تُسبب استثناء
} catch (const std::exception& e) {
    // التعامل مع الاستثناء
}
```

## الأمثلة
### مثال أساسي 1: التعامل مع استثناء قسمة على صفر
```cpp
#include <iostream>
#include <stdexcept>

int main() {
    try {
        int num = 10;
        int denom = 0;
        if (denom == 0) {
            throw std::runtime_error("قسمة على صفر");
        }
        std::cout << num / denom << std::endl;
    } catch (const std::exception& e) {
        std::cout << "استثناء: " << e.what() << std::endl;
    }
    return 0;
}
```

### مثال أساسي 2: التعامل مع استثناءات من نوع مختلف
```cpp
#include <iostream>
#include <stdexcept>

int main() {
    try {
        throw std::out_of_range("خارج نطاق المصفوفة");
    } catch (const std::out_of_range& e) {
        std::cout << "استثناء خاص: " << e.what() << std::endl;
    } catch (const std::exception& e) {
        std::cout << "استثناء عام: " << e.what() << std::endl;
    }
    return 0;
}
```

## الشرح
### الأخطاء الشائعة
- **نسيان كتلة `catch`:** إذا لم يتم إضافة كتلة `catch` بعد كتلة `try`، سيؤدي ذلك إلى خطأ في التجميع.
- **عدم التعامل مع جميع أنواع الاستثناءات:** يُفضل استخدام عدة كتل `catch` للتعامل مع أنواع مختلفة من الاستثناءات.
- **أداء البرنامج:** استخدام الاستثناءات بشكل مفرط يمكن أن يؤثر على أداء البرنامج، لذا ينبغي استخدامها بحذر.

### ملاحظات إضافية
- يُفضل استخدام الاستثناءات بدلاً من القيم المرتجعة للإشارة إلى الأخطاء، حيث أن ذلك يجعل الكود أكثر وضوحًا.
- يمكن استخدام `throw` لإلقاء استثناءات مخصصة لمزيد من التحكم في الأخطاء.

## ملخص
تتيح جملة `try` في C++ إدارة فعالة للأخطاء عن طريق توفير وسيلة للتعامل مع الاستثناءات، مما يُساعد على تحسين استقرار البرنامج.