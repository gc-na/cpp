<!--
Meta Description: # C++ 中的 try 關鍵字：錯誤處理的基石 ## 簡介 在 C++ 中，`try` 關鍵字是一個用於異常處理的關鍵字，讓開發者可以捕獲和處理運行時錯誤，以提高程式的穩定性和可維護性。 ## 文檔 `try` 關鍵字的主要用途是在一段可能會引發異常的程式碼中進行錯誤捕獲。當在 `try` 區塊中...
Meta Keywords: catch, try, std, int, divide
-->

# C++ 中的 try 關鍵字：錯誤處理的基石

## 簡介
在 C++ 中，`try` 關鍵字是一個用於異常處理的關鍵字，讓開發者可以捕獲和處理運行時錯誤，以提高程式的穩定性和可維護性。

## 文檔
`try` 關鍵字的主要用途是在一段可能會引發異常的程式碼中進行錯誤捕獲。當在 `try` 區塊中發生異常時，控制權會轉移到對應的 `catch` 區塊，這樣開發者就可以對異常進行適當的處理。

### 用法
基本的 `try` 語法結構如下：

```cpp
try {
    // 可能引發異常的代碼
} catch (const ExceptionType& e) {
    // 處理異常的代碼
}
```

### 詳細說明
- **異常的發生**: 在 `try` 區塊中，如果發生了異常（例如除以零、訪問非法內存等），則會觸發異常。
- **捕獲異常**: `catch` 區塊用於捕獲異常，並提供一個參數，該參數是異常的類型。可以有多個 `catch` 區塊來處理不同類型的異常。
- **異常的傳遞**: 當一個異常被拋出後，控制權會立即轉移到第一個匹配的 `catch` 區塊。如果沒有匹配的 `catch`，程序將終止。

## 範例
以下是一個使用 `try` 和 `catch` 的基本示範：

```cpp
#include <iostream>
#include <stdexcept>

int divide(int a, int b) {
    if (b == 0) {
        throw std::invalid_argument("除數不能為零");
    }
    return a / b;
}

int main() {
    try {
        std::cout << divide(10, 0) << std::endl;
    } catch (const std::invalid_argument& e) {
        std::cerr << "捕獲異常: " << e.what() << std::endl;
    }
    return 0;
}
```

在這個例子中，`divide` 函數在除數為零時會拋出異常，並在 `main` 中捕獲並處理該異常。

## 解釋
### 常見陷阱與注意事項
- **未捕獲的異常**: 如果異常沒有被任何 `catch` 區塊捕獲，程序將會終止並顯示異常信息。
- **多個 catch 區塊**: 當有多個 `catch` 區塊時，最具體的異常類型應放在前面，否則專門處理某類異常的 `catch` 可能永遠不會被執行。
- **性能考量**: 使用異常處理可能會影響性能，特別是在大量異常發生的情況下，因此應謹慎使用。

## 一句話總結
`try` 關鍵字在 C++ 中用於捕獲和處理異常，增強程序的穩定性和錯誤處理能力。