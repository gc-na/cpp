<!--
Meta Description: # حذف الذاكرة في C++: فهم الأمر delete ## ملخص يعتبر الأمر `delete` في C++ أداة رئيسية لإدارة الذاكرة، حيث يستخدم لتحرير الذاكرة التي تم تخصيصها دينام...
Meta Keywords: delete, الذاكرة, new, تحرير, استخدام
-->

# حذف الذاكرة في C++: فهم الأمر delete

## ملخص
يعتبر الأمر `delete` في C++ أداة رئيسية لإدارة الذاكرة، حيث يستخدم لتحرير الذاكرة التي تم تخصيصها ديناميكياً للأغراض المختلفة، مما يساعد في تجنب تسرب الذاكرة.

## الوثائق
### الغرض
يستخدم الأمر `delete` لتحرير الذاكرة التي تم تخصيصها باستخدام `new`. عند تخصيص كائنات أو مصفوفات بشكل ديناميكي، تصبح مسؤولية المبرمج هي التأكد من تحرير هذه الذاكرة عند الانتهاء من استخدامها.

### الاستخدام
يتم استخدام الأمر `delete` بالشكل التالي:
- لتحرير كائن تم إنشاؤه باستخدام `new`:
  ```cpp
  delete pointer;
  ```

- لتحرير مصفوفة تم إنشاؤها باستخدام `new[]`:
  ```cpp
  delete[] pointerArray;
  ```

### التفاصيل
- عند استخدام `delete`، يتم استدعاء مُدمر الكائن (إذا كان موجودًا) قبل تحرير الذاكرة.
- يجب أن يكون المؤشر الذي يتم تمريره إلى `delete` هو نفس المؤشر الذي تم استخدامه مع `new`.
- إذا تم استخدام `delete` على مؤشر غير صالح أو تم تحريره مسبقًا، فإن ذلك قد يؤدي إلى سلوك غير متوقع أو أخطاء.

## أمثلة
### مثال 1: تحرير كائن
```cpp
#include <iostream>

class MyClass {
public:
    MyClass() { std::cout << "Constructor called" << std::endl; }
    ~MyClass() { std::cout << "Destructor called" << std::endl; }
};

int main() {
    MyClass* obj = new MyClass(); // تخصيص الذاكرة
    delete obj; // تحرير الذاكرة
    return 0;
}
```

### مثال 2: تحرير مصفوفة
```cpp
#include <iostream>

int main() {
    int* arr = new int[5]; // تخصيص مصفوفة من 5 عناصر
    delete[] arr; // تحرير المصفوفة
    return 0;
}
```

## الشرح
### الأخطاء الشائعة
- **التحرير المزدوج**: محاولة استخدام `delete` على نفس المؤشر مرتين يؤدي إلى أخطاء. يجب التأكد من تعيين المؤشر إلى `nullptr` بعد التحرير.
- **عدم تحرير الذاكرة**: نسيان استخدام `delete` بعد `new` قد يؤدي إلى تسرب الذاكرة.
- **استخدام `delete` لكائنات لم يتم إنشاؤها باستخدام `new`**: سيؤدي إلى سلوك غير متوقع.

## ملخص بجملة واحدة
الأمر `delete` في C++ هو وسيلة حيوية لتحرير الذاكرة المخصصة ديناميكيًا، مما يمنع تسرب الذاكرة ويضمن إدارة فعالة للموارد.